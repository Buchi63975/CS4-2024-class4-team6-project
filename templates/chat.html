<div class="chat-container">
  {% for message in messages %}
  <div
    class="message {% if message.sender == request.user %}sent{% else %}received{% endif %}"
  >
    <p>{{ message.content }}</p>
    <small>{{ message.timestamp|date:"H:i" }}</small>
  </div>
  {% endfor %}
</div>

<form method="post" class="message-form">
  {% csrf_token %}
  <input type="text" name="content" placeholder="メッセージを入力..." />
  <button type="submit">送信</button>
</form>

<style>
  .chat-container {
    height: 500px;
    overflow-y: auto;
    padding: 20px;
  }

  .message {
    margin: 10px;
    padding: 10px;
    border-radius: 10px;
    max-width: 70%;
  }

  .sent {
    background-color: #0084ff;
    color: white;
    margin-left: auto;
  }

  .received {
    background-color: #e9ecef;
    margin-right: auto;
  }

  .message-form {
    position: fixed;
    bottom: 0;
    width: 100%;
    padding: 20px;
    background: white;
  }
</style>
